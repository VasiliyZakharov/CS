# Функциональное программирование: Пишем компилятор!

Цель этой лабораторной работы - придумать свой собственный функциональный язык программирования и разработать для него интерпретатор или компилятор.

Вы можете выполнить эту лабораторную работу в группе из 2 или 3 человек (или больше - но это требует одобрения преподавателя):

* 2 человека - компилятор/интерпретатор + примеры программ + краткая документация в README.md (вы можете заменить этот файл своей собственной документацией)
* 3 человека - компилятор/интерпретатор + примеры программ + более подробная документация на GitHub Pages
* 3 и более человек - помимо вышеуказанного, может включать следующее:
  - IDE в браузере
  - Поддержка Jupyter Notebook
  - Трансляция в JavaScript, чтобы можно было выполнять программу в браузере
  - Расширения для VS Code

## Задача

Ваша цель - изобрести и реализовать собственный функциональный язык программирования. Требования:

* Он должен тесно следовать парадигме функционального программирования, на основе либо [лямбда-исчисления](https://en.wikipedia.org/wiki/Lambda_calculus), либо [комбинаторной логики](https://en.wikipedia.org/wiki/Combinatory_logic).
* Он должен быть более или менее универсальным, т.е. реализовывать рекурсию. В идеале - полным по Тьюрингу.
* Как минимум, язык должен позволять запрограммировать функцию для расчета факториала.

> Имейте в виду, что написание парсеров - это утомительная задача, поэтому постарайтесь сделать синтаксис языка как можно проще.

Для вдохновения:

* Изучите [LISP](https://books.ifmo.ru/file/pdf/1918.pdf) - язык программирования с очень простым синтаксисом.
* Комбинаторные парсеры и библиотеку [fparsec](https://www.quanttec.com/fparsec/), если вы хотите реализовать язык с более сложным синтаксисом.
* [Top-Down Parser на F#](https://github.com/fholm/Vaughan).
* Интересный блог пост о [парсинге на F#](https://www.erikschierboom.com/2016/12/10/parsing-text-in-fsharp/).
* Парсинг с использованием инструментов [FsLex и FsYacc](https://realfiction.net/posts/lexing-and-parsing-in-f/) (не рекомендуется).
* Реализация [Scheme в F#](https://github.com/AshleyF/FScheme) - вы можете ознакомиться с этим проектом для вдохновения, но не заимствуйте код оттуда!

## Критерии оценки

* Универсальность
* Примеры программ (включая факториал, но не ограничиваясь им)
* Оригинальность и красота синтаксиса
* Документированность
* Красота реализации

Предпочтительный язык реализации - F#.

В документации явно укажите, какие функции языка вы реализовали:

* [+] Именованные переменные (`let`)
* [+] Рекурсия
* [ ] Ленивое вычисление
* [+] Функции
* [ ] Замыкания
* [ ] Библиотечные функции: ввод-вывод файлов
* [ ] Списки / Последовательности
* [ ] Библиотечные функции: списки/последовательности

## Репозиторий

Вам необходимо работать над кодом в репозитории GitHub Classroom. После завершения задачи **настоятельно рекомендуется** форкнуть этот код в свои собственные аккаунты GitHub, чтобы он служил вашим портфолио.

## Пошаговая работа

Поскольку проект довольно большой, его нужно делать поэтапно, загружая ваш код в GitHub на каждом этапе:

* Этап 1: Разработка абстрактного синтаксического дерева и парсера для вашего языка + одна примерная программа.
* Этап 2: Разработка интерпретатора/компилятора для вашего языка.
* Этап 3: Написание примеров программ и документации.

> Конечно, вы можете изменять язык на более поздних этапах, если посчитаете это нужным.

## Авторы

Не забудьте упомянуть свою команду в файле README.md, указав также, кто что делал. Также файл README.md должен включать краткое руководство по вашему языку и некоторые короткие примеры кода.

|       Имя       |                  Роль в проекте                  |
|:---------------:|:------------------------------------------------:|
| Королёв Илья  | Разработчик интерпретатора, технический писатель |
| Захаров Василий | технический писатель |
| Чеснов Илья  | Разработчик парсера  |

# Документация к языку программирования RIP

Этот язык программирования содержит уникальные ключевые слова и синтаксические конструкции для простого и читабельного кода.

## Ключевые слова и синтаксис

### 1. publish
Используется для вывода информации на экран. Аналогично print в большинстве языков.

Пример:
`
publish{значение}
`

### 2. input_num
Используется для ввода числа пользователем.

Пример:
`
num x = input_num{};
`

### 3. input_str
Используется для ввода строки пользователем.

Пример:
`
str name = input_str{};
`

### 4. num
Используется для объявления переменной числа.

Пример:
`
num число = 10;
`

### 5. str
Используется для объявления строковой переменной.

Пример:
`
str имя = "Иван";
`

### 6. bool
Используется для объявления булевой переменной.

Пример:
`
bool is_valid = true;
`

### 7. func
Используется для объявления функции.

Пример:
`
func имя_функции = lambda {аргументы} [
    тело функции;
];
`

### 8. lambda
Используется для объявления lambda функции.

### 9. when
Используется для условных операторов. Аналогично if.

Пример:
`
when {условие} [
    тело условия;
]
`

### 10. otherwise
Используется для альтернативного ветвления. Аналогично else.

Пример:
`
when {условие} [
    тело условия;
] otherwise [
    альтернативное тело;
]
`

### Специальные символы

- {}: Используется вместо скобок () в выражениях и вызовах функций.
- []: Используется вместо фигурных скобок {} для обозначения тела функций, условий и циклов.
- ; : Разделяет строки кода и предполагает, что выполнение функции не заканчивается.

## Пример программы

Пример программы, которая реализует модульную операцию и бинарное возведение в степень.

`
func mod = lambda {num n, num a} [
    n - {{n // a} * a};
];

func binpow = lambda {num a, num n} [
    when {n == 0} [
        1
    ] otherwise [
        when {mod{n, 2} == 1} [
            binpow{a, n - 1} * a
        ] otherwise [
            binpow{a, n / 2} * binpow{a, n / 2}
        ]
    ]
];

publish{binpow{2, 6}, binpow{3, 4}};
`

Этот пример функции mod вычисляет остаток от деления, а функция binpow выполняет бинарное возведение в степень. Результаты выводятся с помощью publish.

Для написания документации, мы пользовались ChatGPT, мы закинули ему пример программы, он написал по нему документацию к нашему языку.

> Если вы используете генеративный ИИ при написании этого кода (ChatGPT, GitHub Copilot и т.п.), вам необходимо упомянуть это здесь, и кратко описать подробности использования генеративного ИИ, а также как это повысило вашу продуктивность. *Использование генеративного ИИ без явного упоминания является нарушением академической этики!*
